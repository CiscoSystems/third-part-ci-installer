# This file is generated by Ansible
#  DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
#
images-dir: /opt/nodepool/images

zookeeper-servers:
  - host: localhost
    port: 2181

webapp:
  port: 8005
  listen_address: '0.0.0.0'

diskimages:
  - name: ubuntu-xenial
    elements:
      - ubuntu
      - vm
      - devuser
      - pip-and-virtualenv
      - cloud-init-datasources
    username: ubuntu
    env-vars:
      DIB_DEV_USER_PASSWORD: 'password'
      DIB_DEV_USER_PWDLESS_SUDO: 'yes'
      DIB_CLOUD_INIT_DATASOURCES: 'ConfigDrive, OpenStack'

labels:
  - name: ubuntu
    min-ready: 2

providers:
{% for provider in nodeproviders %}
  - name: {{provider.name}}
    cloud: {{provider.name}}
    diskimages:
      - name: ubuntu-xenial
        config-drive: true
    pools:
      - name: main
        max-servers: 6
        labels:
          - name: ubuntu
            flavor-name: '{{provider.flavor}}'
            diskimage: ubuntu-xenial
            key-name: nodepool
{% endfor %}
